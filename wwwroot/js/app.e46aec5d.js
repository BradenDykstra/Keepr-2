(function(t){function e(e){for(var a,i,n=e[0],l=e[1],c=e[2],p=0,d=[];p<n.length;p++)i=n[p],o[i]&&d.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==o[l]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},o={app:0},r=[];function i(t){return n.p+"js/"+({myKeeps:"myKeeps",vault:"vault",vaults:"vaults"}[t]||t)+"."+{myKeeps:"bfd893b9",vault:"b64cdc87",vaults:"86e5a47b"}[t]+".js"}function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.e=function(t){var e=[],s=o[t];if(0!==s)if(s)e.push(s[2]);else{var a=new Promise(function(e,a){s=o[t]=[e,a]});e.push(s[2]=a);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=i(t),r=function(e){l.onerror=l.onload=null,clearTimeout(c);var s=o[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,s[1](i)}o[t]=void 0}};var c=setTimeout(function(){r({type:"timeout",target:l})},12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var p=0;p<l.length;p++)e(l[p]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("64a9"),o=s.n(a);o.a},2253:function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},r=[],i=(s("034f"),s("2877")),n={},l=Object(i["a"])(n,o,r,!1,null,null,null),c=l.exports,p=s("8c4f"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("topBar"),s("div",{staticClass:"row justify-content-center"},[t.user.id?s("button",{staticClass:"red-btn badge-pill",on:{click:t.logout}},[t._v("Logout")]):s("button",{staticClass:"blue-btn badge-pill",attrs:{"data-toggle":"modal","data-target":"#loginModal"}},[t._v("Login")]),s("login")],1),s("hr",{staticClass:"light-bg"}),s("div",{staticClass:"row justify-content-around mt-2"},t._l(t.keeps,function(t){return s("keepComp",{key:t.id,staticClass:"col-md-2 col-6",attrs:{keepProp:t}})}))],1)},d=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login modal fade",attrs:{id:"loginModal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content light-bg"},[s("h1",{staticClass:"dark-text my-5"},[t._v("Welcome to ToastKeepr!")]),t.loginForm?s("form",{staticClass:"justify-content-center",on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[s("div",{staticClass:"row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],staticClass:"form-control col-8 offset-2 my-2",attrs:{type:"email",placeholder:"email"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],staticClass:"form-control col-8 offset-2 my-2",attrs:{type:"password",placeholder:"password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}})]),s("div",{staticClass:"row"},[s("button",{staticClass:"blue-btn badge-pill col-2 offset-5 my-3",attrs:{type:"submit"},on:{click:t.close}},[t._v("Login")])])]):s("form",{staticClass:"justify-content-center",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("div",{staticClass:"row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.username,expression:"newUser.username"}],staticClass:"form-control col-8 offset-2 my-2",attrs:{type:"text",placeholder:"name"},domProps:{value:t.newUser.username},on:{input:function(e){e.target.composing||t.$set(t.newUser,"username",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],staticClass:"form-control col-8 offset-2 my-2",attrs:{type:"email",placeholder:"email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"form-control col-8 offset-2 my-2",attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})]),s("div",{staticClass:"row"},[s("button",{staticClass:"yellow-btn badge-pill col-2 offset-5 my-3",attrs:{type:"submit"},on:{click:t.close}},[t._v("Create Account")])])]),s("div",{staticClass:"dark-text",on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?s("p",[t._v("No account? Click to Register")]):s("p",[t._v("Already have an account? Click to Login")])])])])])},h=[],g={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:""}}},beforeCreate(){this.$store.state.user.id&&this.$router.push({name:"home"})},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)},close(){$("#loginModal").modal("hide")}}},v=g,f=Object(i["a"])(v,m,h,!1,null,null,null),w=f.exports,y=s("8dc0"),k=s("b043"),b={name:"home",computed:{user(){return this.$store.state.user},keeps(){return this.$store.state.keeps}},mounted(){this.$store.dispatch("getKeeps"),this.$store.dispatch("getVaults"),$(function(){$('[data-toggle="tooltip"]').tooltip()})},methods:{logout(){this.$store.dispatch("logout")},goToKeeps(){this.$router.push("/")},goToVaults(){this.$router.push("/vaults")}},components:{keepComp:y["a"],login:w,topBar:k["a"]}},C=b,K=Object(i["a"])(C,u,d,!1,null,"2f0054f7",null),_=K.exports;a["a"].use(p["a"]);var x=new p["a"]({routes:[{path:"/",name:"home",component:_},{path:"/vaults",name:"vaults",component:function(){return s.e("vaults").then(s.bind(null,"26da"))}},{path:"/vault/:id",name:"vault",component:function(){return s.e("vault").then(s.bind(null,"1035"))}},{path:"/myKeeps",name:"myKeeps",component:function(){return s.e("myKeeps").then(s.bind(null,"dc38"))}}]}),P=s("2f62"),V=s("bc3a"),U=s.n(V);let j=location.host.includes("localhost")?"https://localhost:5001/":"/",T=U.a.create({baseURL:j+"account/",timeout:3e3,withCredentials:!0});class B{static async Login(t){try{let s=await T.post("login",t);return s.data}catch(e){throw new Error("[login failed] :"+e.response.data)}}static async Register(t){try{let s=await T.post("register",t);return s.data}catch(e){throw new Error("[registration failed] :"+e.response.data)}}static async Logout(){try{await T.delete("logout");return!0}catch(t){throw new Error("[logout failed] :"+t.response.data)}}static async Authenticate(){try{let e=await T.get("authenticate");return e.data}catch(t){console.warn("[Authentication failed] :"+t.response.data)}}}var O=s("3d20"),E=s.n(O);a["a"].use(P["a"]);let L=location.host.includes("localhost")?"https://localhost:5001/":"/",M=U.a.create({baseURL:L+"api/",timeout:3e3,withCredentials:!0});var S=new P["a"].Store({state:{user:{},keeps:[],keep:{},vaults:[],vault:{}},mutations:{setUser(t,e){t.user=e},resetState(t){t.user={},t.vaults=[],t.vault={}},setKeeps(t,e){t.keeps=e.reverse()},setVault(t,e){t.vault=e},setVaults(t,e){t.vaults=e}},actions:{async register({commit:t,dispatch:e},s){try{let e=await B.Register(s);t("setUser",e),x.push({name:"home"})}catch(a){console.warn(a.message)}},async login({commit:t,dispatch:e},s){try{let e=await B.Login(s);t("setUser",e),x.push({name:"home"})}catch(a){console.warn(a.message)}},async logout({commit:t,dispatch:e}){try{await B.Logout();t("resetState")}catch(s){console.warn(s.message)}},
//!SECTION 
async getKeeps({commit:t,dispatch:e}){try{let e=await M.get("keeps");t("setKeeps",e.data)}catch(s){console.error(s)}},async getOneKeep({commit:t,dispatch:e},s){try{let e=await M.get("keeps/"+s.id);t("setKeep",e.data)}catch(a){console.error(a)}},async addToKeep({commit:t,dispatch:e},s){try{await M.put("keeps/"+s.id,s)}catch(a){console.error(a)}},async getKeepsByUser({commit:t,dispatch:e},s){try{let e=await M.get("keeps/user");t("setKeeps",e.data)}catch(a){console.error(a)}},async createKeep({commit:t,dispatch:e},s){try{await M.post("keeps",s),e("getKeepsByUser")}catch(a){console.error(a)}},async deleteKeep({commit:t,dispatch:e},s){try{await M.delete("keeps/"+s)}catch(a){console.error(a)}},
//!SECTION 
async getVaults({commit:t,dispatch:e}){try{let e=await M.get("vaults");t("setVaults",e.data)}catch(s){console.error(s)}},async getVault({commit:t,dispatch:e},s){try{let o=await M.get("vaults/"+s);t("setVault",o.data),e("getVaultKeeps",s)}catch(a){console.error(a)}},async createVault({commit:t,dispatch:e},s){try{await M.post("vaults",s),e("getVaults")}catch(a){console.error(a)}},async deleteVault({commit:t,dispatch:e},s){try{await M.delete("vaults/"+s)}catch(a){console.error(a)}},
//!SECTION 
async getVaultKeeps({commit:t,dispatch:e},s){try{let e=await M.get("vaultkeeps/"+s);t("setKeeps",e.data)}catch(a){console.error(a)}},async storeKeep({commit:t,dispatch:e},s){try{await M.post("vaultkeeps",s);await M.get("keeps/"+s.keepId).then(t=>{E.a.fire({type:"success",text:"Stored in Vault!",toast:!0,timer:3e3,showConfirmButton:!1,position:"top-right"})})}catch(a){console.error(a)}},async removeKeep({commit:t,dispatch:e},s){try{await M.put("vaultkeeps",s),e("getVaults")}catch(a){console.error(a)}}}});async function I(){let t=await B.Authenticate();t&&S.commit("setUser",t),new a["a"]({router:x,store:S,render:t=>t(c)}).$mount("#app")}I()},"64a9":function(t,e,s){},6627:function(t,e,s){t.exports=s.p+"img/toastkeepr.737ce588.png"},"7f78":function(t,e,s){},"8dc0":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"keepComp card mx-2 my-2 light-bg dark-text"},[s("img",{staticClass:"card-img-top mt-2",attrs:{src:t.keepProp.img,"data-toggle":"modal","data-target":"#keepView"+t.keepProp.id},on:{click:t.viewKeep}}),s("div",{staticClass:"card-body"},[s("h3",{staticClass:"card-title",attrs:{"data-toggle":"modal","data-target":"#keepView"+t.keepProp.id},on:{click:t.viewKeep}},[t._v(t._s(t.keepProp.name))]),s("span",{attrs:{"data-toggle":"tooltip",title:"Views"}},[s("i",{staticClass:"far fa-eye fa-2x blue-btn badge-pill py-1",attrs:{"data-toggle":"modal","data-target":"#keepView"+t.keepProp.id},on:{click:t.viewKeep}},[t._v(t._s(t.keepProp.views))])]),s("span",{attrs:{"data-toggle":"tooltip",title:"Store this keep in a vault"}},[s("i",{staticClass:"fas fa-bread-slice fa-2x dark-btn badge-pill py-1",attrs:{"data-toggle":"dropdown"}},[t._v(t._s(t.keepProp.stores))]),s("div",{staticClass:"dropdown-menu blue-bg"},t._l(t.vaults,function(e){return s("p",{key:e.id,staticClass:"dropdown-item light-text",on:{click:function(s){t.storeKeep(e.id)}}},[t._v(t._s(e.name))])}))])]),s("KeepView",{attrs:{keepProp:t.keepProp}})],1)},o=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"keepView modal fade row justify-content-center mt-5 dark-text",attrs:{id:"keepView"+t.keepProp.id,tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content light-bg"},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"card col-12 light-bg"},[s("img",{staticClass:"card-img-top mt-2",attrs:{src:t.keepProp.img}}),s("div",{staticClass:"card-body"},[s("h1",{staticClass:"card-title"},[t._v(t._s(t.keepProp.name))]),s("h4",[t._v(t._s(t.keepProp.description))]),s("i",{staticClass:"far fa-eye fa-2x blue-btn badge-pill py-1",attrs:{"data-toggle":"tooltip",title:"Views"}},[t._v(t._s(t.keepProp.views))]),s("span",{attrs:{"data-toggle":"tooltip",title:"Store this keep in a vault"}},[s("i",{staticClass:"fas fa-bread-slice fa-2x dark-btn badge-pill py-1",attrs:{"data-toggle":"dropdown"}},[t._v(t._s(t.keepProp.stores))]),s("div",{staticClass:"dropdown-menu blue-bg"},t._l(t.vaults,function(e){return s("p",{key:e.id,staticClass:"dropdown-item light-text",on:{click:function(s){t.storeKeep(e.id)}}},[t._v(t._s(e.name))])}))])]),s("span",{attrs:{"data-toggle":"tooltip",title:"Delete this keep"}},[t.user.id==t.keepProp.userId?s("i",{staticClass:"fas fa-trash red-text m-2",on:{click:t.deleteKeep}}):t._e()]),s("span",{attrs:{"data-toggle":"tooltip",title:"Remove this keep from this vault"}},[this.$route.params.id?s("i",{staticClass:"fas fa-ban red-text m-3",on:{click:t.removeKeep}}):t._e()])])]),s("div",{staticClass:"modal-footer"})])])])},i=[],n=s("3d20"),l=s.n(n),c={name:"keepView",data(){return{keep:{}}},computed:{user(){return this.$store.state.user},vaults(){return this.$store.state.vaults}},mounted(){$(function(){$('[data-toggle="tooltip"]').tooltip()})},methods:{deleteKeep(){l.a.fire({title:"Do you want to delete this keep?",text:"This can't be undone!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.value&&($("#keepView"+this.keepProp.id).modal("hide"),this.$store.dispatch("deleteKeep",this.keepProp.id).then(t=>{"myKeeps"==this.$route.name?this.$store.dispatch("getKeepsByUser"):this.$store.dispatch("getKeeps")}))})},removeKeep(){l.a.fire({title:"Are you sure you want to remove this keep from this vault?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!"}).then(t=>{t.value&&this.$store.dispatch("removeKeep",{keepId:this.keepProp.id,vaultId:parseInt(this.$route.params.id)})})},storeKeep(t){this.$store.dispatch("storeKeep",{keepId:this.keepProp.id,vaultId:t}).then(t=>{"myKeeps"==this.$route.name?this.$store.dispatch("getKeepsByUser"):"home"==this.$route.name?this.$store.dispatch("getKeeps"):this.$store.dispatch("getVaultKeeps")})}},components:{},props:["keepProp"]},p=c,u=(s("f901"),s("2877")),d=Object(u["a"])(p,r,i,!1,null,"7b7b45fa",null),m=d.exports,h={name:"keepComp",data(){return{}},computed:{vaults(){return this.$store.state.vaults}},mounted(){$(function(){$('[data-toggle="tooltip"]').tooltip()})},methods:{viewKeep(){this.$store.dispatch("addToKeep",{id:this.keepProp.id,views:this.keepProp.views+1,stores:this.keepProp.stores}).then(t=>{"myKeeps"==this.$route.name?this.$store.dispatch("getKeepsByUser"):"home"==this.$route.name?this.$store.dispatch("getKeeps"):this.$store.dispatch("getVaultKeeps")})},storeKeep(t){this.$store.dispatch("storeKeep",{keepId:this.keepProp.id,vaultId:t}),this.$store.dispatch("addToKeep",{id:this.keepProp.id,stores:this.keepProp.stores+1,views:this.keepProp.views}).then(t=>{"myKeeps"==this.$route.name?this.$store.dispatch("getKeepsByUser"):"home"==this.$route.name?this.$store.dispatch("getKeeps"):this.$store.dispatch("getVaultKeeps",this.$route.params.id)})}},components:{KeepView:m},props:["keepProp"]},g=h,v=(s("a8e8"),Object(u["a"])(g,a,o,!1,null,"0ed4be11",null));e["a"]=v.exports},a8e8:function(t,e,s){"use strict";var a=s("7f78"),o=s.n(a);o.a},b043:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topBar"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-2"},[a("img",{staticClass:"logo mt-3 mx-auto",attrs:{src:s("6627")},on:{click:function(e){t.goHome()}}})]),t.user.id&&"home"==this.$route.name?a("h1",{staticClass:"light-text mt-5 col-8"},[t._v("Welcome Home, "+t._s(t.user.username)+"!")]):t.user.id&&"vaults"==this.$route.name?a("h1",{staticClass:"light-text mt-5 mb-3 col-8"},[t._v(t._s(t.user.username)+"'s Vaults")]):"vault"==this.$route.name?a("h1",{staticClass:"light-text mt-5 mb-3 col-8"},[t._v(t._s(t.vault.name))]):t.user.id&&"myKeeps"==this.$route.name?a("h1",{staticClass:"light-text mt-5 mb-3 col-8"},[t._v(t._s(t.user.username)+"'s Keeps")]):a("h1",{staticClass:"light-text mt-5 col-8"},[t._v("Welcome to ToastKeepr!")]),a("div",{staticClass:"col-2 mt-5"},[t.user.id?a("dropDown"):t._e()],1)])])},o=[],r=s("ee9c"),i={name:"topBar",data(){return{}},computed:{user(){return this.$store.state.user},vault(){return this.$store.state.vault}},methods:{goHome(){this.$router.push("/")}},components:{dropDown:r["a"]}},n=i,l=s("2877"),c=Object(l["a"])(n,a,o,!1,null,"bde033ea",null);e["a"]=c.exports},ee9c:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown"},[s("i",{staticClass:"fas fa-bars light-text fa-3x",attrs:{"data-toggle":"dropdown"}}),s("div",{staticClass:"dropdown-menu blue-bg"},[s("p",{staticClass:"dropdown-item light-text",on:{click:function(e){t.goToKeeps()}}},[t._v("The Keeps")]),s("p",{staticClass:"dropdown-item light-text",on:{click:function(e){t.goToVaults()}}},[t._v("My Vaults")]),s("p",{staticClass:"dropdown-item light-text",on:{click:function(e){t.goToMyKeeps()}}},[t._v("My Keeps")])])])},o=[],r={name:"dropdown",data(){return{}},computed:{},methods:{goToKeeps(){this.$router.push("/")},goToVaults(){this.$router.push("/vaults")},goToMyKeeps(){this.$router.push("/myKeeps")}},components:{}},i=r,n=s("2877"),l=Object(n["a"])(i,a,o,!1,null,"acee08d8",null);e["a"]=l.exports},f901:function(t,e,s){"use strict";var a=s("2253"),o=s.n(a);o.a}});